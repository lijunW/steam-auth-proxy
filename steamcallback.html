<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Steam Login Redirect</title>
    <script>
      // 1. 提取参数
      const urlParams = new URLSearchParams(window.location.search);
      const appScheme = 'com.yourapp.steamauth';

      // 2. 自动跳转（适用于移动端 WebView）
      try {
        window.location.href = `https://steam-auth-proxy.pages.dev/app-auth?${urlParams.toString()}`;
      } catch (e) {
        console.error('自动跳转失败:', e);
      }

      // 3. 显示手动跳转按钮（关键！）
      setTimeout(() => {
        const link = document.createElement('a');
        link.href = `${appScheme}://callback?${urlParams.toString()}`;
        link.textContent = '点击此处手动返回应用';
        document.body.appendChild(link);
      }, 1000);
    </script>
</head>
<body>
    <p>正在跳转到应用...</p>
    <a id="manualRedirect" style="display: none;">点击此处手动跳转</a>
</body>
</html>
